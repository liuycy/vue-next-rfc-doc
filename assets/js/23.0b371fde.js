(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{352:function(t,s,a){"use strict";a.r(s);var e=a(37),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_18-transition-class-更改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-transition-class-更改"}},[t._v("#")]),t._v(" 18. <transition> class 更改")]),t._v(" "),a("blockquote",[a("p",[t._v("原文: "),a("a",{attrs:{href:"https://github.com/vuejs/rfcs/blob/master/active-rfcs/0018-transition-class-change.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/vuejs/rfcs/blob/master/active-rfcs/0018-transition-class-change.md"),a("OutboundLink")],1)])]),t._v(" "),a("ul",[a("li",[t._v("开始日期: 2019-11-29")]),t._v(" "),a("li",[t._v("目标版本: 3.x")]),t._v(" "),a("li",[t._v("参考 Issues: N/A")]),t._v(" "),a("li",[t._v("实现 PR: N/A")])]),t._v(" "),a("h2",{attrs:{id:"概要"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概要"}},[t._v("#")]),t._v(" 概要")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("v-enter")]),t._v(" 过渡类名重命名为 "),a("code",[t._v("v-enter-from")])]),t._v(" "),a("li",[a("code",[t._v("v-leave")]),t._v(" 过渡类名重命名为 "),a("code",[t._v("v-leave-from")])])]),t._v(" "),a("h2",{attrs:{id:"基本用例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本用例"}},[t._v("#")]),t._v(" 基本用例")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 之前 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-enter, .v-leave-to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 之后 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-enter-from, .v-leave-to")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"动机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动机"}},[t._v("#")]),t._v(" 动机")]),t._v(" "),a("p",[t._v("在 v2.1.8 之前, 我们在每个过滤方向上只有两个过渡类. 例如 进入过渡时, 只有 "),a("code",[t._v("v-enter")]),t._v(" 和 "),a("code",[t._v("v-enter-active")]),t._v(".\n在 v2.1.8 我们引入了 "),a("code",[t._v("v-enter-to")]),t._v(" 来处理"),a("a",{attrs:{href:"https://github.com/vuejs/vue/issues/4510",target:"_blank",rel:"noopener noreferrer"}},[t._v("进入/离开 过渡之间的间隙"),a("OutboundLink")],1),t._v(", 不过为了向后兼容, 没有修改 "),a("code",[t._v("v-enter")]),t._v(" 的名称:")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-enter, .v-leave-to")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-leave, .v-enter-to")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这种不对称和不明确造成 "),a("code",[t._v(".v-enter")]),t._v(" 和 "),a("code",[t._v(".v-leave")]),t._v(" 这些类有点难懂. 所以我们建议改成:")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-enter-from, .v-leave-to")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".v-leave-from, .v-enter-to")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("opacity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这样可以更好的表达这些类处于什么状态.")]),t._v(" "),a("h2",{attrs:{id:"设计细节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设计细节"}},[t._v("#")]),t._v(" 设计细节")]),t._v(" "),a("ul",[a("li",[a("code",[t._v(".v-enter")]),t._v(" 重命名为 "),a("code",[t._v(".v-enter-from")])]),t._v(" "),a("li",[a("code",[t._v(".v-leave")]),t._v(" 重命名为 "),a("code",[t._v(".v-leave-from")])]),t._v(" "),a("li",[a("code",[t._v("<transition>")]),t._v(" 组件上的相关属性也要改为:\n"),a("ul",[a("li",[a("code",[t._v("leave-class")]),t._v(" 重命名为 "),a("code",[t._v("leave-from-class")]),t._v(" (在 JSX 的 render 函数中可以写成 "),a("code",[t._v("leaveFromClass")]),t._v(")")]),t._v(" "),a("li",[a("code",[t._v("enter-class")]),t._v(" 重命名为 "),a("code",[t._v("enter-from-class")]),t._v(" (在 JSX 的 render 函数中可以写成 "),a("code",[t._v("enterFromClass")]),t._v(")")])])])]),t._v(" "),a("h2",{attrs:{id:"升级策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级策略"}},[t._v("#")]),t._v(" 升级策略")]),t._v(" "),a("p",[t._v("兼容版本可以支持旧的类名, 但会抛出警告引导用户迁移.")])])}),[],!1,null,null,null);s.default=n.exports}}]);