<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>25. teleport 组件 | Vue Composition API</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/vue-next-rfc-doc/logo.png">
    <link rel="manifest" href="/vue-next-rfc-doc/manifest.json">
    <link rel="apple-touch-icon" href="/vue-next-rfc-doc/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/vue-next-rfc-doc/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/vue-next-rfc-doc/assets/css/0.styles.cf1b8447.css" as="style"><link rel="preload" href="/vue-next-rfc-doc/assets/js/app.a5df5a44.js" as="script"><link rel="preload" href="/vue-next-rfc-doc/assets/js/2.f670e6b3.js" as="script"><link rel="preload" href="/vue-next-rfc-doc/assets/js/30.79ec083e.js" as="script"><link rel="preload" href="/vue-next-rfc-doc/assets/js/3.fbfa2398.js" as="script"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/10.44ccc906.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/11.152b8729.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/12.e6ab691a.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/13.ba7e4fad.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/14.1dc30023.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/15.bef8526b.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/16.8f34d5e5.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/17.199a7782.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/18.4c323be9.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/19.19f8b0d9.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/20.3f05c0dc.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/21.cb53ccfa.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/22.82667d1a.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/23.0860caf2.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/24.1fc1efec.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/25.10fae7d3.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/26.4482ac0f.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/27.f77843e9.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/28.bab8d959.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/29.57d6ac6b.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/31.7606bb46.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/32.fe0bf418.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/33.451a5547.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/34.015969cb.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/35.c86122bf.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/36.346e9959.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/37.a78ee880.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/4.5e0b5fee.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/5.dbe5f43d.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/6.8d8745e4.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/7.af1acdd5.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/8.8db4bd63.js"><link rel="prefetch" href="/vue-next-rfc-doc/assets/js/9.f978a30c.js">
    <link rel="stylesheet" href="/vue-next-rfc-doc/assets/css/0.styles.cf1b8447.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-next-rfc-doc/" class="home-link router-link-active"><!----> <span class="site-name">Vue Composition API</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-next-rfc-doc/" class="nav-link">
  Composition API RFC
</a></div><div class="nav-item"><a href="/vue-next-rfc-doc/API.html" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/vue-next-rfc-doc/RFCs/0001-new-slot-syntax.html" class="nav-link">
  RFCs
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-next-rfc-doc/" class="nav-link">
  Composition API RFC
</a></div><div class="nav-item"><a href="/vue-next-rfc-doc/API.html" class="nav-link">
  API Reference
</a></div><div class="nav-item"><a href="/vue-next-rfc-doc/RFCs/0001-new-slot-syntax.html" class="nav-link">
  RFCs
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RFCs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-next-rfc-doc/RFCs/0001-new-slot-syntax.html" class="sidebar-link">1. 新的插槽语法</a></li><li><a href="/vue-next-rfc-doc/RFCs/0002-slot-syntax-shorthand.html" class="sidebar-link">2. 插槽语法缩写</a></li><li><a href="/vue-next-rfc-doc/RFCs/0003-dynamic-directive-arguments.html" class="sidebar-link">3. 动态指令参数</a></li><li><a href="/vue-next-rfc-doc/RFCs/0004-global-api-treeshaking.html" class="sidebar-link">4. 全局 API treeshaking</a></li><li><a href="/vue-next-rfc-doc/RFCs/0005-replace-v-bind-sync-with-v-model-argument.html" class="sidebar-link">5. 用 v-model 取代 v-bind.sync</a></li><li><a href="/vue-next-rfc-doc/RFCs/0006-slots-unification.html" class="sidebar-link">6. 统一插槽</a></li><li><a href="/vue-next-rfc-doc/RFCs/0007-functional-async-api-change.html" class="sidebar-link">7. 函数式组件和异步组件 API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0008-render-function-api-change.html" class="sidebar-link">8. render 函数 API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0009-global-api-change.html" class="sidebar-link">9. 全局 API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0010-optional-props-declaration.html" class="sidebar-link">10. 可选的 props 声明</a></li><li><a href="/vue-next-rfc-doc/RFCs/0011-v-model-api-change.html" class="sidebar-link">11. v-model API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0012-custom-directive-api-change.html" class="sidebar-link">12. 自定义指令 API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0014-drop-keycode-support.html" class="sidebar-link">14. 废弃 keycode</a></li><li><a href="/vue-next-rfc-doc/RFCs/0015-remove-filters.html" class="sidebar-link">15. 移除 filters</a></li><li><a href="/vue-next-rfc-doc/RFCs/0016-remove-inline-templates.html" class="sidebar-link">16. 移除行内模板</a></li><li><a href="/vue-next-rfc-doc/RFCs/0017-transition-as-root.html" class="sidebar-link">17.  作为根节点时</a></li><li><a href="/vue-next-rfc-doc/RFCs/0019-remove-data-object-declaration.html" class="sidebar-link">19. 移除 data 对象形式声明</a></li><li><a href="/vue-next-rfc-doc/RFCs/0020-events-api-change.html" class="sidebar-link">20. 事件 API 更改</a></li><li><a href="/vue-next-rfc-doc/RFCs/0021-router-link-scoped-slot.html" class="sidebar-link">21. router-link 作用域插槽</a></li><li><a href="/vue-next-rfc-doc/RFCs/0022-router-merge-meta-routelocation.html" class="sidebar-link">22. 合并 router 路由元信息</a></li><li><a href="/vue-next-rfc-doc/RFCs/0023-scoped-styles-changes.html" class="sidebar-link">23. scoped 样式变更</a></li><li><a href="/vue-next-rfc-doc/RFCs/0024-attribute-coercion-behavior.html" class="sidebar-link">24. attribute 的强制行为</a></li><li><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html" class="active sidebar-link">25. teleport 组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#概要" class="sidebar-link">概要</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#基本用例" class="sidebar-link">基本用例</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#动机" class="sidebar-link">动机</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#设计细节" class="sidebar-link">设计细节</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#杂项" class="sidebar-link">杂项</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#缺点" class="sidebar-link">缺点</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#备选方案" class="sidebar-link">备选方案</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#升级策略" class="sidebar-link">升级策略</a></li><li class="sidebar-sub-header"><a href="/vue-next-rfc-doc/RFCs/0025-teleport.html#未解决的问题" class="sidebar-link">未解决的问题</a></li></ul></li><li><a href="/vue-next-rfc-doc/RFCs/0026-async-component-api.html" class="sidebar-link">26. 异步组件 API</a></li><li><a href="/vue-next-rfc-doc/RFCs/0027-custom-elements-interop.html" class="sidebar-link">27. 自定义元素的互通性</a></li><li><a href="/vue-next-rfc-doc/RFCs/0028-router-active-link.html" class="sidebar-link">28. router active link</a></li><li><a href="/vue-next-rfc-doc/RFCs/0029-router-dynamic-routing.html" class="sidebar-link">29. router 动态路由</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_25-teleport-组件"><a href="#_25-teleport-组件" class="header-anchor">#</a> 25. teleport 组件</h1> <blockquote><p>原文: <a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0025-teleport.md" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/rfcs/blob/master/active-rfcs/0025-teleport.md<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>开始日期: 2020-01-20</li> <li>目标版本: (3.x)</li> <li>参考 Issues: (如果存在相关 issues, 请填写)</li> <li>实现 PR:</li></ul> <h2 id="概要"><a href="#概要" class="header-anchor">#</a> 概要</h2> <ul><li>Vue 内核加入 <code>&lt;teleport&gt;</code> 组件</li> <li>该组件需要传入一个 <code>HTMLElement</code> 或 <code>querySelector</code> 字符串作为目标元素.</li> <li>该组件会将其子元素移动到 DOM 选择器指向的元素内.</li> <li>在虚拟 DOM 中, 所有子元素仍是 <code>&lt;teleport&gt;</code> 的后代, 因此能访问到祖先的注入值 (injections).</li></ul> <h2 id="基本用例"><a href="#基本用例" class="header-anchor">#</a> 基本用例</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>使用 portal 组件移动 #content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#endofbody<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
          将会移动到 #endofbody.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
          假装这是一个模态框
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>endofbody<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
      components<span class="token operator">:</span> <span class="token punctuation">{</span>
        Child<span class="token operator">:</span> <span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">&quot;&lt;div&gt;占位符&lt;/div&gt;&quot;</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这将会导致如下行为:</p> <ol><li><code>&lt;teleport&gt;</code> 的所有子元素 - 在此例中: <code>&lt;div id=&quot;content&quot;&gt;</code> 和 <code>&lt;Child /&gt;</code> - 会被添加到 <code>&lt;div id=&quot;endofbody&quot;&gt;</code></li> <li>其中 <code>&lt;Child&gt;</code> 组件仍会保持为 <code>&lt;teleport&gt;</code> 的父级的子组件 (<code>&lt;teleport&gt;</code> 是透明的).</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>endofbody<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      将会移动到 #endofbody.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
      假装这是一个模态框
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>占位符<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="动机"><a href="#动机" class="header-anchor">#</a> 动机</h2> <p>Vue 鼓励我们通过将 UI 和相关行为封装到组件中来构建 UI, 我们可以将这些组件彼此嵌套在一起, 构建组成应用程序 UI 的组件树. model 组件在 Vue 和 其他框架中都有着不错的表现, 不过此提案想要解决一个弱点:</p> <p>某些情况下, 一个组件模板中的某一部分 <em>逻辑上讲</em> 的确属于这个组件, 但是从视觉(即: 样式需求)技术角度来看, 最好将这部分移动到 DOM 中的其他位置, 将其从 DOM 树的深层嵌套中抽离出来.</p> <h3 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h3> <h4 id="z-index"><a href="#z-index" class="header-anchor">#</a> z-Index</h4> <p>这个行为的主要使用场景通常都是跟样式有关. 各种常见的 UI 模式, 如 模态框, 对话框, 下拉菜单, 通知等等. 都要使用固定或绝对定位以及处理 z-index.</p> <p>为了解决 <a href="https://philipwalton.com/articles/what-no-one-told-you-about-z-index/" target="_blank" rel="noopener noreferrer">z-index 层叠上下文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的行为问题, 一个常见做法是将这些组件的 DOM 元素放在 <code>&lt;/body&gt;</code> 之前, 为了能将它们移到任何父元素的 z-index 层叠上下文顶层.</p> <h4 id="窗体小部件-widgets"><a href="#窗体小部件-widgets" class="header-anchor">#</a> 窗体小部件(Widgets)</h4> <p>许多应用都有 widgets 的概念, 即它们的 UI 上有个出口(例如在 sidebar 或 dashboard 中), 或在应用的其他地方(例如 插件), 可以注入小块的 UI.</p> <p>在单页应用中, JavaScript 实际上可以控制整个页面, 这种情况不是什么问题. 但在那种 Vue 只能控制部分页面的情况下, 目前来说将单个元素或组件挂在到页面其他地方确实很难(但并不是不能).</p> <p>通过 <code>&lt;teleport&gt;</code>, 我们可以直接将子组件以声明的方式挂载到 DOM 中的其他位置.</p> <h2 id="设计细节"><a href="#设计细节" class="header-anchor">#</a> 设计细节</h2> <h3 id="作为一个内部组件来实现"><a href="#作为一个内部组件来实现" class="header-anchor">#</a> 作为一个内部组件来实现</h3> <p><code>&lt;teleport&gt;</code> &quot;组件&quot; 是一个类似 <code>&lt;transition&gt;</code> 和 <code>&lt;keep-alive&gt;</code> 的内部组件. 支持 tree-shaking, 所以如果你不用, 最终打包的代码并不会包含这些代码.</p> <h4 id="在模板中的用法"><a href="#在模板中的用法" class="header-anchor">#</a> 在模板中的用法</h4> <p>在模板中, 编译器会自动注入 <code>&lt;teleport&gt;</code> 所以可以像下面这样直接使用:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div&gt;
      &lt;teleport to=&quot;#endofbody&quot;&gt;
        某些内容.
      &lt;/teleport&gt;
    &lt;div&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>如果使用了 render 函数 或 JSX, 在组件中需要像其他组件一样先导入这个组件:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Teleport<span class="token punctuation">,</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token function">h</span><span class="token punctuation">(</span>Teleport<span class="token punctuation">,</span> <span class="token punctuation">{</span> to<span class="token operator">:</span> <span class="token string">&quot;#endofbody&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;某些内容&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// or with JSX:</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Teleport to<span class="token operator">=</span><span class="token string">&quot;#endofbody&quot;</span><span class="token operator">&gt;</span>某些内容<span class="token operator">&lt;</span><span class="token operator">/</span>Teleport<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="在同一个目标元素上使用多个-portal"><a href="#在同一个目标元素上使用多个-portal" class="header-anchor">#</a> 在同一个目标元素上使用多个 portal</h3> <p>一个常见情况是, 可能在同一时间会有多个实例激活了一个复用的 <code>&lt;Modal&gt;</code> 组件. 像这种情况, 多个 <code>&lt;teleport&gt;</code> 组件也能够挂载其内容到同一个目标元素上. 顺序如同一个简单的 <code>append</code> - 在同一个元素内, 后面挂载的位置会排在前面挂载的之后.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#modals<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#modals<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 结果 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>modals<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>到目前为止, 在这个 RFC 的讨论中, 我们讨论过更复杂行为 (可选的前置插入, 顺序的定义 ...), 不过对于复杂度的担忧, 和 SRR 与 hydration 的可预见的问题是我们将行为暂时限定于简单的 <code>append</code>.</p> <h3 id="props"><a href="#props" class="header-anchor">#</a> Props</h3> <h4 id="to"><a href="#to" class="header-anchor">#</a> <code>to</code></h4> <p>这个组件有且只有一个 <em>必须的</em> 属性 <code>to</code>. 接收一个字符串, 但必须是 合法的选择器 或 HTMLElement (如果在浏览器环境中).</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 没问题的 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#some-id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>.some-class<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[data-portal]<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--
  虽然可能不明确, 但技术上可行
  我们该允许还是禁止下面这种用法?
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>h1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 报错的 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>some-string<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="disabled"><a href="#disabled" class="header-anchor">#</a> <code>disabled</code></h4> <p>这个可选属性可以用来禁用 portal 的功能, 也就是说其内容不会被移动到其他地方, 只会在 <code>&lt;teleport&gt;</code> 指定的地方渲染出来.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#popup<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>displayVideoInline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./my-movie.mp4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>动态改变这个值可以让其内部 DOM 元素在 <code>to</code> 指定的元素内部和原地反复横跳. 也就是说, 任何在 <code>&lt;teleport&gt;</code> 内部的组件都可以 keep alive 和 保留其内部状态. 也就是说 <code>&lt;video&gt;</code> 元素可以在反复横跳时保持播放进度.</p> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <h4 id="mounting"><a href="#mounting" class="header-anchor">#</a> Mounting</h4> <p>当 <code>&lt;teleport&gt;</code> 被其父级挂载时, 它会使用 <code>to</code> 属性的值作为一个选择器.</p> <ul><li>如果选择器查询到一个元素, <code>&lt;teleport&gt;</code> 的内容会作为这个元素的子节点挂载到 DOM 中</li> <li>如果当 <code>&lt;teleport&gt;</code> 挂载时, 选择器未查询到该元素, 在开发环境中, 类似下面的警告会被打印 (在生产环境中不会打印):</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>`Teleport content could not be mounted to element <span class="token keyword">with</span> selector <span class="token string">'${props.to}'</span><span class="token operator">:</span> element not found<span class="token punctuation">.</span>
<span class="token comment">// following would be a display where in the component tree this happened etc.</span>
</code></pre></div><h5 id="parent"><a href="#parent" class="header-anchor">#</a> $parent</h5> <p>如果 <code>&lt;teleport&gt;</code> 包含了组件, 这些组件的 <code>this.$parent</code> 属性应该指向 <code>&lt;teleport&gt;</code> 的父级组件. 换言之, 这些组件在 <em>组件树</em> 上应该保持不动, 即使它们最终挂载到了 <em>DOM 树</em> 的其他位置.</p> <p><code>&lt;teleport&gt;</code>, 并不是一个真正的组件, 它是透明的并且不会出现在 <code>$parent</code> 链上.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>targetName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Parent'</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      Child<span class="token operator">:</span> <span class="token punctuation">{</span>
        template<span class="token operator">:</span> <span class="token string">'&lt;div/&gt;'</span><span class="token punctuation">,</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>name <span class="token punctuation">)</span>
          <span class="token comment">// =&gt; 'Parent'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>同样, 在 <code>Child</code> 中使用 <code>inject</code> 应该能够注入 在 <code>Parent</code> 或者 其他祖先 上提供的内容.</p> <h4 id="updating"><a href="#updating" class="header-anchor">#</a> Updating</h4> <p><code>to</code> 属性可以通过 <code>v-bind</code> 动态改变. 当这个值变化时, <code>&lt;teleport&gt;</code> 会从之前的目标元素中移除子级再移动到新的目标元素中.</p> <p>如果子级元素包含了任意组件实例, 这些组件不会受此影响. 这些组件会 keep alive, 保留它们的状态.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>targetName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>可以通过下方的按钮移动<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toggleTarget<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>切换<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>A<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>B<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      targetName<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">toggleTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>targetName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>targetName <span class="token operator">==</span> <span class="token string">&quot;A&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;B&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果新的目标选择器匹配不到任何元素:</p> <ol><li>在开发环境中会打印一个警告.</li> <li>其内容会留在之前的目标元素中.</li></ol> <h4 id="destruction"><a href="#destruction" class="header-anchor">#</a> Destruction</h4> <p>当 <code>&lt;teleport&gt;</code> 被销毁时 (例如 在其父级被销毁时 或 使用 <code>v-if</code> 时), 其子元素会从 DOM 元素中移除 而 其子组件实例也会像 其父级组件的其他子组件一样 被销毁.</p> <h2 id="杂项"><a href="#杂项" class="header-anchor">#</a> 杂项</h2> <h4 id="与原生-portal-的命名冲突"><a href="#与原生-portal-的命名冲突" class="header-anchor">#</a> 与原生 portal 的命名冲突</h4> <p>这个组件在早期的 RFC 版本中被命名为 <code>&lt;portal&gt;</code>. 不过已有原生 portals 的提案:</p> <ul><li>说明: https://wicg.github.io/portals/</li> <li>介绍: https://web.dev/hands-on-portals/</li></ul> <p>我们不想和将来可能叫 <code>&lt;portal&gt;</code> 的 HTML 元素存在命名冲突, 特别是其功能与 Vue 或 React 这些库中的 portal 含义完全不同, 我们将这个组件命名为 <code>&lt;teleport&gt;</code>.</p> <p>还是说我们应该保留这个概念, 一个在 Vue 或 React 已经是 &quot;常识&quot; 的 portal 概念. 一个新术语会让用户感到困惑吗 ?</p> <h4 id="dev-tools"><a href="#dev-tools" class="header-anchor">#</a> dev-tools</h4> <p>这个 <code>&lt;teleport&gt;</code> 不应出现在父组件的层级链中(<code>this.$parent</code>), 不过在虚拟 DOM 内应该是可识别的, 这样 Vue 的 dev-tools 才能在组件树中将其可视化.</p> <h4 id="在-vue-app-内的某个元素上使用-teleport"><a href="#在-vue-app-内的某个元素上使用-teleport" class="header-anchor">#</a> 在 Vue app 内的某个元素上使用 <code>&lt;teleport&gt;</code></h4> <p>理论上, 这个提案允许选择在 DOM 中的 <em>任意</em> 元素, 包括那些在组件树上其他部分由 Vue 渲染的元素.</p> <p>但这会让 portal 的内容受控于其他组件的生命周期, 也就是说当那个组件被销毁时, 该 portal 的内容可能会从 DOM 中移除.</p> <p>在原本的虚拟 DOM 树上, 任何来自 <code>&lt;teleport&gt;</code> 的组件都能有效地移除其真实 DOM, 但当这些组件尝试更新时会造成错误.</p> <p>可靠地处理这些问题需要大量附加的逻辑, 正因如此这种使用情况被明确地 <strong>排除在此 RFC 外</strong>. 传送到 Vue 渲染的 DOM 元素上被认为是一种反模式, 可能导致真实 DOM 和 虚拟 DOM 不同步.</p> <h2 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h2> <p>唯一值得注意的缺点就是实现此功能的额外代码. 不过从试验版本中判断, 这些代码很轻量, 因为只是在虚拟 DOM 上挂载元素的方式稍有不同, 而且这个组件支持 tree-shaking.</p> <p>由于是一个新增功能并且功能非常单一 (只有一个定义目标选择器的 prop), 应该也不会在 Vue 的文档和学习成本上增加太多的复杂性.</p> <p>考虑到社区方案(即使有些限制和缺陷)的流行程度, 性价比似乎挺高的.</p> <h2 id="备选方案"><a href="#备选方案" class="header-anchor">#</a> 备选方案</h2> <p>目前为止没有其他方案.</p> <h3 id="如果不实现该功能会怎样"><a href="#如果不实现该功能会怎样" class="header-anchor">#</a> 如果不实现该功能会怎样</h3> <p>当前有一些类似该功能的社区实现方案, 不过通常会有一些警告和缺点, 根本原因是这些 portals 在 Vue 2 的虚拟 DOM 上不支持.</p> <p>用户可能需要继续忍受这些限制和缺点.</p> <h2 id="升级策略"><a href="#升级策略" class="header-anchor">#</a> 升级策略</h2> <p><code>&lt;teleport&gt;</code> 是一个新功能而且是纯新增的原生功能. 因此, 从 Vue 2.0 迁移到 Vue 3.0 该功能不会造成任何影响, 除非他们的自定义组件起了 <code>&lt;teleport&gt;</code> 的名字 - 不过他们将组件名字改一下也很容易的.</p> <p>刚接触 Vue 3.0 或 Vue 的用户可以在文档中学习这个功能并在需要该功能的项目中使用.</p> <h3 id="现存的第三方解决方案"><a href="#现存的第三方解决方案" class="header-anchor">#</a> 现存的第三方解决方案</h3> <p>值得一提的是, 很多第三方插件/库都实现了类似的功能.</p> <p>尽管有些与此 RFC 无关, 但有些提供了比此提案更丰富的功能, 不知能否调整其内部实现使用此提案中的 <code>&lt;teleport&gt;</code> 组件呢.</p> <p>如果 RFC vuejs/vue-next#28 (Render function change) 被采纳了, 这些库也得重构, 那时或许也能采纳这个新功能.</p> <h2 id="未解决的问题"><a href="#未解决的问题" class="header-anchor">#</a> 未解决的问题</h2> <p>n/a</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-next-rfc-doc/RFCs/0024-attribute-coercion-behavior.html" class="prev">
        24. attribute 的强制行为
      </a></span> <span class="next"><a href="/vue-next-rfc-doc/RFCs/0026-async-component-api.html">
        26. 异步组件 API
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vue-next-rfc-doc/assets/js/app.a5df5a44.js" defer></script><script src="/vue-next-rfc-doc/assets/js/2.f670e6b3.js" defer></script><script src="/vue-next-rfc-doc/assets/js/30.79ec083e.js" defer></script><script src="/vue-next-rfc-doc/assets/js/3.fbfa2398.js" defer></script>
  </body>
</html>
